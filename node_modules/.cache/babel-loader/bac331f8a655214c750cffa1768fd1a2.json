{"ast":null,"code":"import _toConsumableArray from \"/Users/jeffery/Sites/spelly/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _slicedToArray from \"/Users/jeffery/Sites/spelly/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _jsxFileName = \"/Users/jeffery/Sites/spelly/src/App.js\",\n    _s = $RefreshSig$();\n\nimport \"./styles.css\";\nimport { Fragment, useState, useEffect, useCallback, useRef } from \"react\";\nimport shuffle from \"lodash.shuffle\";\nimport KeyboardEventHandler from \"react-keyboard-event-handler\";\nimport Confetti from \"react-confetti\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar firstNames = [\"abigail\", \"aiden\", \"alex\", \"alexander\", \"amelia\", \"aria\", \"arlo\", \"asher\", \"ashley\", \"ava\", \"avery\", \"beckett\", \"benjamin\", \"brooks\", \"bryce\", \"caden\", \"charlie\", \"charlotte\", \"chase\", \"chris\", \"christina\", \"christine\", \"daniel\", \"elijah\", \"elizabeth\", \"ella\", \"emily\", \"emma\", \"ethan\", \"evelyn\", \"fern\", \"gemma\", \"gianna\", \"grayson\", \"harper\", \"henry\", \"isabella\", \"isaiah\", \"jackson\", \"jacob\", \"jaden\", \"james\", \"jeremiah\", \"joe\", \"joseph\", \"josiah\", \"jules\", \"layla\", \"liam\", \"logan\", \"lucas\", \"lucy\", \"madison\", \"marian\", \"mason\", \"mason\", \"matthew\", \"mia\", \"michael\", \"noah\", \"oliver\", \"olivia\", \"quinn\", \"rachel\", \"riley\", \"scarlett\", \"skye\", \"sofia\", \"sophia\", \"sophia\", \"victoria\", \"william\", \"wren\"];\nvar initialWordList = [\"are\", \"bed\", \"big\", \"box\", \"boy\", \"bus\", \"cat\", \"did\", \"dog\", \"fall\", \"fin\", \"fox\", \"girl\", \"had\", \"hen\", \"hat\", \"hot\", \"like\", \"love\", \"off\", \"play\", \"red\", \"run\", \"the\", \"top\", \"vet\", \"yes\", \"you\"];\nexport default function App() {\n  _s();\n\n  var startingString = \"type here\";\n\n  var _useState = useState(startingString),\n      _useState2 = _slicedToArray(_useState, 2),\n      text = _useState2[0],\n      setText = _useState2[1];\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      confettiVisibility = _useState4[0],\n      setConfettiVisibility = _useState4[1];\n\n  var _useState5 = useState(),\n      _useState6 = _slicedToArray(_useState5, 2),\n      words = _useState6[0],\n      setWords = _useState6[1];\n\n  var _useState7 = useState(\"\"),\n      _useState8 = _slicedToArray(_useState7, 2),\n      word = _useState8[0],\n      setWord = _useState8[1];\n\n  var inputEl = useRef(null);\n  var appRef = useRef(null);\n\n  var say = function say(str) {\n    var msg = new SpeechSynthesisUtterance();\n    msg.text = str;\n    msg.rate = 0.7;\n    window.speechSynthesis.speak(msg);\n  };\n\n  var nextWord = useCallback(function (afterSuccess) {\n    if (words.length) {\n      var tempWords = _toConsumableArray(words);\n\n      var newWord = tempWords.pop();\n      setWord(newWord);\n      setWords(tempWords);\n\n      if (afterSuccess) {\n        say(\"Now, spell \".concat(newWord));\n      } else {\n        say(\"Spell \".concat(newWord));\n      }\n\n      setText(\"\");\n    } else {\n      console.log(\"out of words.\");\n    }\n  }, [words, setWords, setText]);\n  var toggleMode = useCallback(function () {\n    if (word) {\n      // We've currently got a word. Remove it.\n      setWord();\n    } else {\n      nextWord();\n    }\n\n    inputEl.current.focus();\n  }, [word, setWord, nextWord]);\n  var handleKeypress = useCallback(function (key) {\n    key = key.toLowerCase();\n    console.log(\":\".concat(key, \":\"));\n\n    if (text === startingString) {\n      setText(key);\n    } else {\n      if (key === \"space\") {\n        key = \" \";\n      }\n\n      setText(\"\".concat(text).concat(key));\n    }\n\n    if (key.trim().length === 1) {\n      say(key);\n    }\n  }, [text, setText]);\n  useEffect(function () {\n    // words\n    setWords(shuffle(initialWordList));\n  }, []);\n  useEffect(function () {\n    inputEl.current.focus();\n    inputEl.current.addEventListener(\"blur\", function () {\n      return inputEl.current.focus();\n    });\n  }, [inputEl]);\n  return /*#__PURE__*/_jsxDEV(Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"header\", {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"modeBtn\",\n        onClick: function onClick() {\n          return toggleMode();\n        },\n        children: [word && \"Say Words\", !word && \"Spell Words\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Spelly\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 195,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 190,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n      className: \"App\",\n      children: [/*#__PURE__*/_jsxDEV(\"textarea\", {\n        ref: inputEl,\n        className: \"main\",\n        spellCheck: \"false\",\n        autoComplete: \"new-password\",\n        value: text,\n        rows: 1,\n        onFocus: function onFocus() {\n          return document.getElementById('root').requestFullscreen();\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 198,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"Type a letter to hear it.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 208,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 209,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: [\"Hit \", /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"green\",\n            children: \"Return\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 211,\n            columnNumber: 17\n          }, this), \" to hear the word.\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 210,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 207,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Confetti, {\n        numberOfPieces: confettiVisibility ? 500 : 0\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 214,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(KeyboardEventHandler, {\n        handleKeys: [\"alphabetic\", \"numeric\", \"space\"],\n        handleFocusableElements: true,\n        onKeyEvent: function onKeyEvent(key, e) {\n          return handleKeypress(key, e);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 215,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(KeyboardEventHandler, {\n        handleKeys: [\"esc\"],\n        handleFocusableElements: true,\n        onKeyEvent: function onKeyEvent() {\n          return setText(\"\");\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 221,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(KeyboardEventHandler, {\n        handleKeys: [\"enter\", \"return\"],\n        handleFocusableElements: true,\n        onKeyEvent: function onKeyEvent() {\n          if (word) {\n            if (word.toLowerCase().trim() === text.toLowerCase().trim()) {\n              say(\"Correct!\");\n              nextWord(true);\n            } else {\n              say(\"Wrong. Try again. Spell \".concat(word, \".\"));\n            }\n          } else {\n            if (firstNames.includes(text.toLowerCase().trim())) {\n              if (!confettiVisibility) {\n                setConfettiVisibility(true);\n                setTimeout(function () {\n                  return setConfettiVisibility(false);\n                }, 5000);\n              }\n            }\n\n            say(text);\n          }\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 227,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(KeyboardEventHandler, {\n        handleKeys: [\"del\", \"delete\", \"backspace\"],\n        handleFocusableElements: true,\n        onKeyEvent: function onKeyEvent() {\n          if (text === startingString) {\n            setText(\"\");\n          } else {\n            setText(text.slice(0, -1));\n          }\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 250,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 197,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"footer\", {\n      children: [/*#__PURE__*/_jsxDEV(\"a\", {\n        href: \"https://github.com/meandmybadself/spelly\",\n        children: \"Source\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 263,\n        columnNumber: 9\n      }, this), \"\\xA0\", /*#__PURE__*/_jsxDEV(\"a\", {\n        href: \"https://codesandbox.io/s/gracious-ellis-mumux?file=/src/App.js\",\n        children: \"Sandbox\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 265,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n        href: \"https://meandmybadself.com\",\n        children: \"Me & My Bad Self\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 268,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 262,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 189,\n    columnNumber: 5\n  }, this);\n}\n\n_s(App, \"UwUQu3YjY1eGwqftA+ovRQVEFTs=\");\n\n_c = App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"sources":["/Users/jeffery/Sites/spelly/src/App.js"],"names":["Fragment","useState","useEffect","useCallback","useRef","shuffle","KeyboardEventHandler","Confetti","firstNames","initialWordList","App","startingString","text","setText","confettiVisibility","setConfettiVisibility","words","setWords","word","setWord","inputEl","appRef","say","str","msg","SpeechSynthesisUtterance","rate","window","speechSynthesis","speak","nextWord","afterSuccess","length","tempWords","newWord","pop","console","log","toggleMode","current","focus","handleKeypress","key","toLowerCase","trim","addEventListener","document","getElementById","requestFullscreen","e","includes","setTimeout","slice"],"mappings":"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","sourcesContent":["import \"./styles.css\";\nimport { Fragment, useState, useEffect, useCallback, useRef } from \"react\";\nimport shuffle from \"lodash.shuffle\";\nimport KeyboardEventHandler from \"react-keyboard-event-handler\";\nimport Confetti from \"react-confetti\";\n\nconst firstNames = [\n  \"abigail\",\n  \"aiden\",\n  \"alex\",\n  \"alexander\",\n  \"amelia\",\n  \"aria\",\n  \"arlo\",\n  \"asher\",\n  \"ashley\",\n  \"ava\",\n  \"avery\",\n  \"beckett\",\n  \"benjamin\",\n  \"brooks\",\n  \"bryce\",\n  \"caden\",\n  \"charlie\",\n  \"charlotte\",\n  \"chase\",\n  \"chris\",\n  \"christina\",\n  \"christine\",\n  \"daniel\",\n  \"elijah\",\n  \"elizabeth\",\n  \"ella\",\n  \"emily\",\n  \"emma\",\n  \"ethan\",\n  \"evelyn\",\n  \"fern\",\n  \"gemma\",\n  \"gianna\",\n  \"grayson\",\n  \"harper\",\n  \"henry\",\n  \"isabella\",\n  \"isaiah\",\n  \"jackson\",\n  \"jacob\",\n  \"jaden\",\n  \"james\",\n  \"jeremiah\",\n  \"joe\",\n  \"joseph\",\n  \"josiah\",\n  \"jules\",\n  \"layla\",\n  \"liam\",\n  \"logan\",\n  \"lucas\",\n  \"lucy\",\n  \"madison\",\n  \"marian\",\n  \"mason\",\n  \"mason\",\n  \"matthew\",\n  \"mia\",\n  \"michael\",\n  \"noah\",\n  \"oliver\",\n  \"olivia\",\n  \"quinn\",\n  \"rachel\",\n  \"riley\",\n  \"scarlett\",\n  \"skye\",\n  \"sofia\",\n  \"sophia\",\n  \"sophia\",\n  \"victoria\",\n  \"william\",\n  \"wren\"\n];\nconst initialWordList = [\n  \"are\",\n  \"bed\",\n  \"big\",\n  \"box\",\n  \"boy\",\n  \"bus\",\n  \"cat\",\n  \"did\",\n  \"dog\",\n  \"fall\",\n  \"fin\",\n  \"fox\",\n  \"girl\",\n  \"had\",\n  \"hen\",\n  \"hat\",\n  \"hot\",\n  \"like\",\n  \"love\",\n  \"off\",\n  \"play\",\n  \"red\",\n  \"run\",\n  \"the\",\n  \"top\",\n  \"vet\",\n  \"yes\",\n  \"you\"\n];\n\nexport default function App() {\n  const startingString = \"type here\";\n  const [text, setText] = useState(startingString);\n  const [confettiVisibility, setConfettiVisibility] = useState(false);\n  const [words, setWords] = useState();\n  const [word, setWord] = useState(\"\");\n  const inputEl = useRef(null);\n  const appRef = useRef(null)\n\n  const say = (str) => {\n    const msg = new SpeechSynthesisUtterance();\n    msg.text = str;\n    msg.rate = 0.7;\n    window.speechSynthesis.speak(msg);\n  };\n\n  const nextWord = useCallback(\n    (afterSuccess) => {\n      if (words.length) {\n        const tempWords = [...words];\n        const newWord = tempWords.pop();\n        setWord(newWord);\n        setWords(tempWords);\n        if (afterSuccess) {\n          say(`Now, spell ${newWord}`);\n        } else {\n          say(`Spell ${newWord}`);\n        }\n        setText(\"\");\n      } else {\n        console.log(\"out of words.\");\n      }\n    },\n    [words, setWords, setText]\n  );\n\n  const toggleMode = useCallback(() => {\n    if (word) {\n      // We've currently got a word. Remove it.\n      setWord();\n    } else {\n      nextWord();\n    }\n    inputEl.current.focus();\n  }, [word, setWord, nextWord]);\n\n  const handleKeypress = useCallback(\n    (key) => {\n      key = key.toLowerCase();\n      console.log(`:${key}:`);\n      if (text === startingString) {\n        setText(key);\n      } else {\n        if (key === \"space\") {\n          key = \" \";\n        }\n        setText(`${text}${key}`);\n      }\n      if (key.trim().length === 1) {\n        say(key);\n      }\n    },\n    [text, setText]\n  );\n\n  useEffect(() => {\n    // words\n    setWords(shuffle(initialWordList));\n  }, []);\n\n  useEffect(() => {\n    inputEl.current.focus();\n    inputEl.current.addEventListener(\"blur\", () => inputEl.current.focus());\n  }, [inputEl]);\n\n  return (\n    <Fragment>\n      <header>\n        <div id=\"modeBtn\" onClick={() => toggleMode()}>\n          {word && \"Say Words\"}\n          {!word && \"Spell Words\"}\n        </div>\n        <h1>Spelly</h1>\n      </header>\n      <main className=\"App\">\n        <textarea\n          ref={inputEl}\n          className=\"main\"\n          spellCheck=\"false\"\n          autoComplete=\"new-password\"\n          value={text}\n          rows={1}\n          onFocus={() => document.getElementById('root').requestFullscreen()}\n        />\n        <p>\n          <span>Type a letter to hear it.</span>\n          <br />\n          <span>\n            Hit <span className=\"green\">Return</span> to hear the word.\n          </span>\n        </p>\n        <Confetti numberOfPieces={confettiVisibility ? 500 : 0} />\n        <KeyboardEventHandler\n          handleKeys={[\"alphabetic\", \"numeric\", \"space\"]}\n          handleFocusableElements\n          onKeyEvent={(key, e) => handleKeypress(key, e)}\n        />\n\n        <KeyboardEventHandler\n          handleKeys={[\"esc\"]}\n          handleFocusableElements\n          onKeyEvent={() => setText(\"\")}\n        />\n\n        <KeyboardEventHandler\n          handleKeys={[\"enter\", \"return\"]}\n          handleFocusableElements\n          onKeyEvent={() => {\n            if (word) {\n              if (word.toLowerCase().trim() === text.toLowerCase().trim()) {\n                say(\"Correct!\");\n                nextWord(true);\n              } else {\n                say(`Wrong. Try again. Spell ${word}.`);\n              }\n            } else {\n              if (firstNames.includes(text.toLowerCase().trim())) {\n                if (!confettiVisibility) {\n                  setConfettiVisibility(true);\n                  setTimeout(() => setConfettiVisibility(false), 5000);\n                }\n              }\n              say(text);\n            }\n          }}\n        />\n\n        <KeyboardEventHandler\n          handleKeys={[\"del\", \"delete\", \"backspace\"]}\n          handleFocusableElements\n          onKeyEvent={() => {\n            if (text === startingString) {\n              setText(\"\");\n            } else {\n              setText(text.slice(0, -1));\n            }\n          }}\n        />\n      </main>\n      <footer>\n        <a href=\"https://github.com/meandmybadself/spelly\">Source</a>\n        &nbsp;\n        <a href=\"https://codesandbox.io/s/gracious-ellis-mumux?file=/src/App.js\">\n          Sandbox\n        </a>\n        <a href=\"https://meandmybadself.com\">Me & My Bad Self</a>\n      </footer>\n    </Fragment>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}